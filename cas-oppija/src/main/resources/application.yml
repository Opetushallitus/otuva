# CAS configuration
# https://apereo.github.io/cas/6.0.x/configuration/Configuration-Properties.html

server.servlet.context-path: /cas-oppija
server.port: 8080
server.ssl.enabled: false
server.useForwardHeaders: false

server.tomcat.portHeader:
server.tomcat.protocolHeader:
server.tomcat.remoteIpHeader:

cas.server.name: http://localhost:8080
cas.server.prefix: http://localhost:8080/cas-oppija

cas.httpWebRequest.header.xframe: false
cas.httpWebRequest.header.xss: false
cas.httpWebRequest.header.xcontent: false
cas.httpWebRequest.header.hsts: false

cas.authn.accept.users:
cas.authn.exceptions.exceptions:
  - fi.vm.sade.cas.oppija.surrogate.exception.SurrogateNotAllowedException
cas.authn.authenticationAttributeRelease.onlyRelease:
  - clientName

cas.tgc.secure: false
cas.tgc.path: /cas-oppija

cas.warningCookie.secure: false
cas.warningCookie.path: /cas-oppija

management.endpoint.info.enabled: true
management.endpoint.health.enabled: true
cas.monitor.endpoints.endpoint.info.access: PERMIT
cas.monitor.endpoints.endpoint.health.access: PERMIT

cas.ticket.registry.jpa.url: jdbc:h2:mem:cas-oppija;DB_CLOSE_ON_EXIT=FALSE
cas.ticket.registry.jpa.user: cas-oppija
cas.ticket.registry.jpa.password: cas-oppija
cas.ticket.registry.jpa.driverClass: org.h2.Driver
cas.ticket.registry.jpa.dialect: org.hibernate.dialect.H2Dialect
cas.ticket.registry.jpa.ddlAuto: create

# Spring Boot configuration
# https://docs.spring.io/spring-boot/docs/current/reference/html/common-application-properties.html

spring.datasource.url: jdbc:h2:mem:cas-oppija;MODE=PostgreSQL;DATABASE_TO_LOWER=TRUE;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username: cas-oppija
spring.datasource.password: cas-oppija
spring.datasource.driver-class-name: org.h2.Driver
spring.datasource.platform: h2

spring.flyway.enabled: false
spring.flyway.out-of-order: true

spring.session.store-type: jdbc

# Custom configuration

cas.custom.properties:
  suomiFiClientName: suomi.fi
whitelist.regexp: ^https?://.*
host.virkailija: http://localhost:8080
valtuudet.enabled: false
valtuudet.required: false
valtuudet.host: http://localhost:8080
valtuudet.client-id: client
valtuudet.api-key: key
valtuudet.oauth-password: password
service-user.username: user
service-user.password: pass
